[
  {
    "objectID": "index.html#gráficos-de-barras",
    "href": "index.html#gráficos-de-barras",
    "title": "Ejemplos",
    "section": "Gráficos de barras:",
    "text": "Gráficos de barras:",
    "crumbs": [
      "Ejemplos"
    ]
  },
  {
    "objectID": "index.html#gráficos-de-mancuernas",
    "href": "index.html#gráficos-de-mancuernas",
    "title": "Ejemplos",
    "section": "Gráficos de mancuernas:",
    "text": "Gráficos de mancuernas:",
    "crumbs": [
      "Ejemplos"
    ]
  },
  {
    "objectID": "index.html#otros-gráficos",
    "href": "index.html#otros-gráficos",
    "title": "Ejemplos",
    "section": "Otros gráficos:",
    "text": "Otros gráficos:",
    "crumbs": [
      "Ejemplos"
    ]
  },
  {
    "objectID": "g_mancuernas.html",
    "href": "g_mancuernas.html",
    "title": "Gráficos de mancuernas",
    "section": "",
    "text": "GráficoCódigoCódigo anotadoFormato de los datos\n\n\n\n\n\n\n\n\n\nggplot(posicion, aes(x = Media, y = Tema, group = Tema))+\n  geom_curve(aes(x = 1.7, y = \"inmigracion\", xend = 2.27, yend = \"lgtb\"),\n    arrow = arrow(length = unit(0.22, \"cm\"), type = \"closed\"),\n    linewidth = 0.7,\n    curvature = -0.4,\n    linetype = 2)+\n  geom_label(\n    label=\"Podemos y PSOE\\n son percibidos\\n en la misma posición \", \n    x=1.5,\n    y=\"inmigracion\",\n    label.size = 0,\n    color = \"black\",\n    size=2.2) +\n  geom_vline(xintercept = seq(0,10, by=1), color = \"lightgrey\", alpha = 0.5)+\n  geom_line(aes(group = Tema), color = \"black\", lwd = 0.5) +\n  geom_point(aes(color = Partido), size = 4, alpha=0.7) + \n  geom_vline(xintercept = 5, linetype = \"dashed\", color = \"black\") +\n  labs(\n    x = \"Media\",\n    y = NULL,\n    caption= \"Medias de ubicación de cada partido según la población.\\nEl 0 indida posiciones más favorables.\",\n    color = \"Partido:\") +\n  theme_classic() +\n  theme(\n    axis.text.y = element_text(size = 9),  \n    axis.text.x = element_text(size = 10),  \n    legend.position = \"bottom\")+\n  scale_x_continuous(limits = c(0,10), breaks = c(0,2,4,6,8,10)) +\n  scale_color_manual(values=colores)+\n  scale_y_discrete(labels=c(\"Inversión contra\\n Cambio Climático\",  \"Servicios Públicos\\n vs. Impuesto Bajos\", \"Inmigración\", \"Derechos LGTBI\\n (adopción)\", \"Descentralización\\n Territorial\"))+\n  geom_text(aes(label = round(Media, 1)), vjust = -1.2, size = 2.5,show.legend = F)\n\n\nggplot(posicion, aes(x = Media, y = Tema, group = Tema))+\n\n## Flecha:\n  geom_curve(aes(x = 1.7, y = \"inmigracion\", xend = 2.27, yend = \"lgtb\"), # Coordenadas de principio y final de la flecha\n    arrow = arrow(length = unit(0.22, \"cm\"), type = \"closed\"), # Tipo de flecha y tamaño\n    linewidth = 0.7, # Ancho de la línea\n    curvature = -0.4,# Flecha con curvatura\n    linetype = 2)+ # Tipo de línea (a rayas)\n\n## El texto de la anotaicón en el gráfico\n  geom_label(\n    label=\"Podemos y PSOE\\n son percibidos\\n en la misma posición \", \n    x=1.5,\n    y=\"inmigracion\",\n    label.size = 0,\n    color = \"black\",\n    size=2.2) +\n\n## Líneas verticales de fondo\n  geom_vline(xintercept = seq(0,10, by=1), color = \"lightgrey\", alpha = 0.5)+ # Las líneas grises para cada valor\n  geom_vline(xintercept = 5, linetype = \"dashed\", color = \"black\") +  # Línea vertical en 5\n\n## Lineas para conectar los puntos en cada tema\n  geom_line(aes(group = Tema), color = \"black\", lwd = 0.5) +\n\n## Puntos para cada partido\n  geom_point(aes(color = Partido), size = 4, alpha=0.7) +\n\n## Otras modificaciones \n  labs(\n    x = \"Media\", # Etiqueta del eje x\n    y = NULL, # Para que no aparezca la etiqueta en el eje y\n    caption= \"Medias de ubicación de cada partido según la población.\\nEl 0 indida posiciones más favorables.\",\n    color = \"Partido:\") + # Texto antes de los valores en el índice\n  theme_classic() + #Tema del gráfico (fondo en blanco)\n  theme(\n    axis.text.y = element_text(size = 9),  #Tamaño del eje y\n    axis.text.x = element_text(size = 10), #Tamaño del eje x\n    legend.position = \"bottom\")+ # Posición de la leyenda\n  scale_x_continuous(limits = c(0,10), breaks = c(0,2,4,6,8,10)) + # Valores del eje x\n  scale_color_manual(values=colores)+ # Colores personalizados para cada partido (se crea un vector antes que indique el color de cada partido)\n\n## Cambiar el texto del eje y\n  scale_y_discrete(labels=c(\"Inversión contra\\n Cambio Climático\",  \"Servicios Públicos\\n vs. Impuesto Bajos\", \"Inmigración\", \"Derechos LGTBI\\n (adopción)\", \"Descentralización\\n Territorial\"))+\n\n## Añadir cifras a los puntos\n  geom_text(aes(label = round(Media, 1)), vjust = -1.2, size = 2.5,show.legend = F)",
    "crumbs": [
      "Gráficos de mancuernas"
    ]
  },
  {
    "objectID": "g_mancuernas.html#simples-posición",
    "href": "g_mancuernas.html#simples-posición",
    "title": "Gráficos de mancuernas",
    "section": "",
    "text": "GráficoCódigoCódigo anotadoFormato de los datos\n\n\n\n\n\n\n\n\n\nggplot(posicion, aes(x = Media, y = Tema, group = Tema))+\n  geom_curve(aes(x = 1.7, y = \"inmigracion\", xend = 2.27, yend = \"lgtb\"),\n    arrow = arrow(length = unit(0.22, \"cm\"), type = \"closed\"),\n    linewidth = 0.7,\n    curvature = -0.4,\n    linetype = 2)+\n  geom_label(\n    label=\"Podemos y PSOE\\n son percibidos\\n en la misma posición \", \n    x=1.5,\n    y=\"inmigracion\",\n    label.size = 0,\n    color = \"black\",\n    size=2.2) +\n  geom_vline(xintercept = seq(0,10, by=1), color = \"lightgrey\", alpha = 0.5)+\n  geom_line(aes(group = Tema), color = \"black\", lwd = 0.5) +\n  geom_point(aes(color = Partido), size = 4, alpha=0.7) + \n  geom_vline(xintercept = 5, linetype = \"dashed\", color = \"black\") +\n  labs(\n    x = \"Media\",\n    y = NULL,\n    caption= \"Medias de ubicación de cada partido según la población.\\nEl 0 indida posiciones más favorables.\",\n    color = \"Partido:\") +\n  theme_classic() +\n  theme(\n    axis.text.y = element_text(size = 9),  \n    axis.text.x = element_text(size = 10),  \n    legend.position = \"bottom\")+\n  scale_x_continuous(limits = c(0,10), breaks = c(0,2,4,6,8,10)) +\n  scale_color_manual(values=colores)+\n  scale_y_discrete(labels=c(\"Inversión contra\\n Cambio Climático\",  \"Servicios Públicos\\n vs. Impuesto Bajos\", \"Inmigración\", \"Derechos LGTBI\\n (adopción)\", \"Descentralización\\n Territorial\"))+\n  geom_text(aes(label = round(Media, 1)), vjust = -1.2, size = 2.5,show.legend = F)\n\n\nggplot(posicion, aes(x = Media, y = Tema, group = Tema))+\n\n## Flecha:\n  geom_curve(aes(x = 1.7, y = \"inmigracion\", xend = 2.27, yend = \"lgtb\"), # Coordenadas de principio y final de la flecha\n    arrow = arrow(length = unit(0.22, \"cm\"), type = \"closed\"), # Tipo de flecha y tamaño\n    linewidth = 0.7, # Ancho de la línea\n    curvature = -0.4,# Flecha con curvatura\n    linetype = 2)+ # Tipo de línea (a rayas)\n\n## El texto de la anotaicón en el gráfico\n  geom_label(\n    label=\"Podemos y PSOE\\n son percibidos\\n en la misma posición \", \n    x=1.5,\n    y=\"inmigracion\",\n    label.size = 0,\n    color = \"black\",\n    size=2.2) +\n\n## Líneas verticales de fondo\n  geom_vline(xintercept = seq(0,10, by=1), color = \"lightgrey\", alpha = 0.5)+ # Las líneas grises para cada valor\n  geom_vline(xintercept = 5, linetype = \"dashed\", color = \"black\") +  # Línea vertical en 5\n\n## Lineas para conectar los puntos en cada tema\n  geom_line(aes(group = Tema), color = \"black\", lwd = 0.5) +\n\n## Puntos para cada partido\n  geom_point(aes(color = Partido), size = 4, alpha=0.7) +\n\n## Otras modificaciones \n  labs(\n    x = \"Media\", # Etiqueta del eje x\n    y = NULL, # Para que no aparezca la etiqueta en el eje y\n    caption= \"Medias de ubicación de cada partido según la población.\\nEl 0 indida posiciones más favorables.\",\n    color = \"Partido:\") + # Texto antes de los valores en el índice\n  theme_classic() + #Tema del gráfico (fondo en blanco)\n  theme(\n    axis.text.y = element_text(size = 9),  #Tamaño del eje y\n    axis.text.x = element_text(size = 10), #Tamaño del eje x\n    legend.position = \"bottom\")+ # Posición de la leyenda\n  scale_x_continuous(limits = c(0,10), breaks = c(0,2,4,6,8,10)) + # Valores del eje x\n  scale_color_manual(values=colores)+ # Colores personalizados para cada partido (se crea un vector antes que indique el color de cada partido)\n\n## Cambiar el texto del eje y\n  scale_y_discrete(labels=c(\"Inversión contra\\n Cambio Climático\",  \"Servicios Públicos\\n vs. Impuesto Bajos\", \"Inmigración\", \"Derechos LGTBI\\n (adopción)\", \"Descentralización\\n Territorial\"))+\n\n## Añadir cifras a los puntos\n  geom_text(aes(label = round(Media, 1)), vjust = -1.2, size = 2.5,show.legend = F)",
    "crumbs": [
      "Gráficos de mancuernas"
    ]
  },
  {
    "objectID": "g_mancuernas.html#para-más-de-dos-variables-posición",
    "href": "g_mancuernas.html#para-más-de-dos-variables-posición",
    "title": "Gráficos de mancuernas",
    "section": "Para más de dos variables (posición)",
    "text": "Para más de dos variables (posición)\n\nGráficoCódigoCódigo anotadoFormato de los datos\n\n\n\n\n\n\n\n\n\nggplot(edad_ideol, aes(x = Media, y = edad, group = edad)) +\n  geom_vline(xintercept = seq(0, 10, by = 1), color = \"lightgrey\", alpha = 0.5) +\n  facet_wrap(~ Tema, ncol = 1, strip.position = \"top\", labeller = labeller(Tema = nombres_temas))+\n    geom_vline(\n    data = posicion,\n    aes(xintercept = Media, color = Partido),\n    linetype = \"dotted\",\n    lwd = 1) +\n  geom_line(aes(group = edad), color = \"black\", lwd = 0.5) +  \n  geom_point(aes(color = ideologia), size = 3, alpha = 0.7) +\n  geom_vline(xintercept = 5, linetype = \"dashed\", color = \"black\") +\n  labs(\n    x = \"Media\",\n    y = NULL,\n    caption = \"Medias de ubicación de la población según su ideología y edad.\\nEl 0 indica posiciones más favorables.\",\n    color = NULL) +\n  theme_classic() +\n  theme(\n    axis.text.y = element_text(size = 9),  \n    axis.text.x = element_text(size = 10),  \n    legend.position = \"bottom\",\n    strip.background = element_blank(),\n    strip.text  = element_text(angle = 0,\n                               size = 12)) +\n  scale_x_continuous(limits = c(0, 10), breaks = c(0, 2, 4, 6, 8, 10)) +\n  scale_color_manual(values = colores, \n                     breaks = c(\"PSOE\", \"Izquierda\", \"PP\",\"Centro\", \"UP\",\"Derecha\", \"Vox\"))\n\n\nLa explicación de este código es muy similar al de los puntos simples\nggplot(edad_ideol, aes(x = Media, y = edad, group = edad)) +\n  geom_vline(xintercept = seq(0, 10, by = 1), color = \"lightgrey\", alpha = 0.5) +\n\n## Juntar los 5 gráficos (1 por tema) en uno solo.\n  facet_wrap(~ Tema, ncol = 1, strip.position = \"top\", labeller = labeller(Tema = nombres_temas))+\n\n## Líneas verticales con los valores de cada partido\n  geom_vline(\n    data = posicion,\n    aes(xintercept = Media, color = Partido),\n    linetype = \"dotted\",\n    lwd = 1) +\n\n## Puntos y líneas con las posiciones de los 3 grupos ideológicos\n  geom_line(aes(group = edad), color = \"black\", lwd = 0.5) +  \n  geom_point(aes(color = ideologia), size = 3, alpha = 0.7) +\n\n## Linea vertical en el 5\n  geom_vline(xintercept = 5, linetype = \"dashed\", color = \"black\") +\n\n## Otros ajustes estéticos\n  labs( # Etiquetas\n    x = \"Media\",\n    y = NULL,\n    caption = \"Medias de ubicación de la población según su ideología y edad.\\nEl 0 indica posiciones más favorables.\",\n    color = NULL) +\n  theme_classic() + # Tema de fondo\n  theme( # Ajustes de tamaño y posición de las etiquetas\n    axis.text.y = element_text(size = 9),  \n    axis.text.x = element_text(size = 10),  \n    legend.position = \"bottom\",\n    strip.background = element_blank(), # Para elimirar el recuadro de los títulos de cada uno de los 5 temas\n    strip.text  = element_text(angle = 0,     # Títulos en horizontal\n                               size = 12)) +\n  scale_x_continuous(limits = c(0, 10), breaks = c(0, 2, 4, 6, 8, 10)) + # Valores personalizados en el eje x\n  scale_color_manual(values = colores, #Colores personalizados\n                     breaks = c(\"PSOE\", \"Izquierda\", \"PP\",\"Centro\", \"UP\",\"Derecha\", \"Vox\")) # Orden personalizado de la leyenda\n\n\n\n\n\n\n\n\n\n\n\nedad_ideol\n\n\n\n\n\n\n\nposicion",
    "crumbs": [
      "Gráficos de mancuernas"
    ]
  },
  {
    "objectID": "g_barras.html",
    "href": "g_barras.html",
    "title": "Gráficos de barras",
    "section": "",
    "text": "GráficoCódigoCódigo anotado\n\n\n\n\n\n\n\n\n\nggplot(datos, aes(x = ideol, y = freq, fill = partido)) +\n  geom_hline(yintercept = c(0, 5, 10, 15, 20, 25), color = \"lightgrey\", alpha = 0.5) +\n  geom_bar(stat = \"identity\", position = \"dodge\", alpha=0.8) +\n  theme_classic() +\n  labs(x = \"Posición ideológica (0-10)\",\n       y = \"Porcentaje de votantes\",\n       caption = \"Distribución en la escala ideológica de los votantes del PP y PSOE\\nFuente: elaboración propia a partir de los datos de 40db\") +\n  geom_text(aes(label = paste0(round(freq, 1), \"%\")), position = position_dodge(width = 0.9), vjust = -0.5, size = 3)+\n  scale_fill_manual(values=c(\"PP\"=\"#17589d\", \"PSOE\"=\"#FF1C1C\"))+\n  theme(\n        legend.position = \"bottom\",\n        legend.title = element_blank(), \n        legend.text = element_text(size = 9),\n        axis.title = element_text(size = 10))\n\n\nggplot(datos, aes(x = ideol, y = freq, fill = partido)) +\n\n## Línes de fondo para indicar los valores del eje y\n  geom_hline(yintercept = c(0, 5, 10, 15, 20, 25), color = \"lightgrey\", alpha = 0.5) +\n  \n## Las barras\n  geom_bar(stat = \"identity\", position = \"dodge\",\n           alpha=0.8) + # Alpha indica la transparencia de las barras (cuanto menor es el número, más transparentes)\n\n## Ajustes estéticos\n  theme_classic() + # Tema del fondo (en blanco)\n  labs(x = \"Posición ideológica (0-10)\", # Etiqueta eje x\n       y = \"Porcentaje de votantes\", # Etiqueta eje y\n       caption = \"Distribución en la escala ideológica de los votantes del PP y PSOE\\nFuente: elaboración propia a partir de los datos de 40db\") + # Texto a pie de gráfico. El \\n indica que se pasa a otra línea.\n  geom_text(aes(label = paste0(round(freq, 1), \"%\")), position = position_dodge(width = 0.9), vjust = -0.5, size = 3)+ # Los números del % encima de las barras\n  scale_fill_manual(values=c(\"PP\"=\"#17589d\", \"PSOE\"=\"#FF1C1C\"))+ # Color del relleno\n  theme( #Ajustes del tamaño y posición de los títulos\n        legend.position = \"bottom\",\n        legend.title = element_blank(), \n        legend.text = element_text(size = 9),\n        axis.title = element_text(size = 10))\n\n\n\n\n\n\n\nGráficoCódigoCódigo anotado\n\n\n\n\n\n\n\n\n\nggplot(brecha_gen, aes(x = gen, y = porcentaje, fill = genero)) +\n  scale_y_continuous(limits=c(0,30))+\n  geom_hline(yintercept = c(0, 10, 20,30), color = \"lightgrey\", alpha = 0.5) +\n  geom_bar(stat = \"identity\", position = position_dodge(width = 0.94), width = 0.87, colour=\"black\") +\n  labs(x = \"Generación\", y = \"Porcentaje de manifestantes\", fill = \"Género\", caption = \"Figura 3: Porcentaje de manifestantes en cada generación según su género\") +\n  theme_classic() +\n  geom_text(aes(label = porcentaje, y = porcentaje + 1),\n            position = position_dodge(width = 1), vjust = 1.1, size = 3) +\n  theme(plot.caption = element_text(hjust=0,family=\"Times New Roman\",size=15), #Ajustes del caption\n        text = element_text(size = 11),  # Tamaño del texto del gráfico\n        legend.position = \"bottom\",      # Posición de la leyenda\n        legend.title = element_blank(),   # Elimina el título de la leyenda\n        legend.text = element_text(size = 9),  # Tamaño del texto de la leyenda\n        axis.title = element_text(size = 12)) +  # Tamaño del texto de los títulos de los ejes\n  scale_fill_manual(values=c(\"Hombre\"=\"#d8d8d8\", \"Mujer\"=\"#777777\"))\n\n\nggplot(brecha_gen, aes(x = gen, y = porcentaje, fill = genero)) +\n\n## Ajustes del eje y: limites y líneas grises del fondo\n  scale_y_continuous(limits=c(0,30))+\n  geom_hline(yintercept = c(0, 10, 20,30), color = \"lightgrey\", alpha = 0.5) +\n\n## El gráfico de barras\n  geom_bar(stat = \"identity\", position = position_dodge(width = 0.94), width = 0.87, colour=\"black\") +\n\n## Otros ajustes estéticos (iguales que en el gráfico anterior)\n  labs(x = \"Generación\", y = \"Porcentaje de manifestantes\", fill = \"Género\", caption = \"Figura 3: Porcentaje de manifestantes en cada generación según su género\") +\n  theme_classic() +\n  geom_text(aes(label = porcentaje, y = porcentaje + 1),\n            position = position_dodge(width = 1), vjust = 1.1, size = 3) +\n  theme(plot.caption = element_text(hjust=0,family=\"Times New Roman\",size=15), #Ajustes del caption\n        text = element_text(size = 11),  # Tamaño del texto del gráfico\n        legend.position = \"bottom\",      # Posición de la leyenda\n        legend.title = element_blank(),   # Elimina el título de la leyenda\n        legend.text = element_text(size = 9),  # Tamaño del texto de la leyenda\n        axis.title = element_text(size = 12)) +  # Tamaño del texto de los títulos de los ejes\n  scale_fill_manual(values=c(\"Hombre\"=\"#d8d8d8\", \"Mujer\"=\"#777777\"))\n\n\n\n\n\n\n\nGráficoCódigoCódigo anotadoFormato de los datos\n\n\n\n\n\n\n\n\n\nggplot(diferencias_dcha, aes(x = Tema, y = diferencias, fill = Partido)) +\n  geom_hline(yintercept = seq(0,5,by=0.5), color = \"lightgrey\", alpha = 0.3) +\n  geom_bar(stat = \"identity\", position = \"dodge\", alpha=0.8) +\n  theme_classic() +\n  labs(x = NULL,\n       y = \"Diferencia (0-10)\",\n       caption = \"Distancia entre el Vox y PP y los votantes de derechas y centro.\\nLa distancia se ha medido como la resta de la media del partido menos la del grupo ideológico (términos absolutos).\",\n       fill=\"Partido-ideología:\") +\n  geom_text(aes(label = round(diferencias, 2)), position = position_dodge(width = 0.9), vjust = -0.5, size = 3)+\n  theme(legend.position = \"bottom\",\n        legend.text = element_text(size = 9),\n        axis.title = element_text(size = 12))+\n  scale_fill_manual(\n    values = c(\"PP_c\"=\"#85B9ED\",\"PP_d\"=\"#17589d\",\"Vox_c\"=\"#B3E384\",\"Vox_d\"=\"#63ac33\"),\n    labels = c(\"PP_c\" = \"PP (centro)\",\"PP_d\" = \"PP (derecha)\",\"Vox_c\" = \"Vox (centro)\",\"Vox_d\" = \"Vox (derecha)\"))+\n  scale_x_discrete(labels=c(\"Inversión contra\\n Cambio Climático\",  \"Servicios Públicos\\n vs. Impuesto Bajos\", \"Inmigración\", \"Derechos LGTBI\\n (adopción)\", \"Descentralización\\n Territorial\"))\n\n\nggplot(diferencias_dcha, aes(x = Tema, y = diferencias, fill = Partido)) +\n\n## Ajustes del eje y: líneas grises del fondo\n  geom_hline(yintercept = seq(0,5,by=0.5), color = \"lightgrey\", alpha = 0.3) +\n\n## El gráfico de barras\n  geom_bar(stat = \"identity\", position = \"dodge\", alpha=0.8) +\n\n## Otros ajustes estéticos (iguales que en el primer gráfico)\n  theme_classic() +\n  labs(x = NULL,\n       y = \"Diferencia (0-10)\",\n       caption = \"Distancia entre el Vox y PP y los votantes de derechas y centro.\\nLa distancia se ha medido como la resta de la media del partido menos la del grupo ideológico (términos absolutos).\",\n       fill=\"Partido-ideología:\") +\n  geom_text(aes(label = round(diferencias, 2)), position = position_dodge(width = 0.9), vjust = -0.5, size = 3)+\n  theme(legend.position = \"bottom\",\n        legend.text = element_text(size = 9),\n        axis.title = element_text(size = 12))+\n  scale_fill_manual(\n    values = c(\"PP_c\"=\"#85B9ED\",\"PP_d\"=\"#17589d\",\"Vox_c\"=\"#B3E384\",\"Vox_d\"=\"#63ac33\"),\n    labels = c(\"PP_c\" = \"PP (centro)\",\"PP_d\" = \"PP (derecha)\",\"Vox_c\" = \"Vox (centro)\",\"Vox_d\" = \"Vox (derecha)\"))+\n\n## Para cambiar las etiquetas del eje x\n  scale_x_discrete(labels=c(\"Inversión contra\\n Cambio Climático\",  \"Servicios Públicos\\n vs. Impuesto Bajos\", \"Inmigración\", \"Derechos LGTBI\\n (adopción)\", \"Descentralización\\n Territorial\"))",
    "crumbs": [
      "Gráficos de barras"
    ]
  },
  {
    "objectID": "g_barras.html#barras-divididas-según-una-tercera-variable",
    "href": "g_barras.html#barras-divididas-según-una-tercera-variable",
    "title": "Gráficos de barras",
    "section": "",
    "text": "GráficoCódigoCódigo anotado\n\n\n\n\n\n\n\n\n\nggplot(datos, aes(x = ideol, y = freq, fill = partido)) +\n  geom_hline(yintercept = c(0, 5, 10, 15, 20, 25), color = \"lightgrey\", alpha = 0.5) +\n  geom_bar(stat = \"identity\", position = \"dodge\", alpha=0.8) +\n  theme_classic() +\n  labs(x = \"Posición ideológica (0-10)\",\n       y = \"Porcentaje de votantes\",\n       caption = \"Distribución en la escala ideológica de los votantes del PP y PSOE\\nFuente: elaboración propia a partir de los datos de 40db\") +\n  geom_text(aes(label = paste0(round(freq, 1), \"%\")), position = position_dodge(width = 0.9), vjust = -0.5, size = 3)+\n  scale_fill_manual(values=c(\"PP\"=\"#17589d\", \"PSOE\"=\"#FF1C1C\"))+\n  theme(\n        legend.position = \"bottom\",\n        legend.title = element_blank(), \n        legend.text = element_text(size = 9),\n        axis.title = element_text(size = 10))\n\n\nggplot(datos, aes(x = ideol, y = freq, fill = partido)) +\n\n## Línes de fondo para indicar los valores del eje y\n  geom_hline(yintercept = c(0, 5, 10, 15, 20, 25), color = \"lightgrey\", alpha = 0.5) +\n  \n## Las barras\n  geom_bar(stat = \"identity\", position = \"dodge\",\n           alpha=0.8) + # Alpha indica la transparencia de las barras (cuanto menor es el número, más transparentes)\n\n## Ajustes estéticos\n  theme_classic() + # Tema del fondo (en blanco)\n  labs(x = \"Posición ideológica (0-10)\", # Etiqueta eje x\n       y = \"Porcentaje de votantes\", # Etiqueta eje y\n       caption = \"Distribución en la escala ideológica de los votantes del PP y PSOE\\nFuente: elaboración propia a partir de los datos de 40db\") + # Texto a pie de gráfico. El \\n indica que se pasa a otra línea.\n  geom_text(aes(label = paste0(round(freq, 1), \"%\")), position = position_dodge(width = 0.9), vjust = -0.5, size = 3)+ # Los números del % encima de las barras\n  scale_fill_manual(values=c(\"PP\"=\"#17589d\", \"PSOE\"=\"#FF1C1C\"))+ # Color del relleno\n  theme( #Ajustes del tamaño y posición de los títulos\n        legend.position = \"bottom\",\n        legend.title = element_blank(), \n        legend.text = element_text(size = 9),\n        axis.title = element_text(size = 10))\n\n\n\n\n\n\n\nGráficoCódigoCódigo anotado\n\n\n\n\n\n\n\n\n\nggplot(brecha_gen, aes(x = gen, y = porcentaje, fill = genero)) +\n  scale_y_continuous(limits=c(0,30))+\n  geom_hline(yintercept = c(0, 10, 20,30), color = \"lightgrey\", alpha = 0.5) +\n  geom_bar(stat = \"identity\", position = position_dodge(width = 0.94), width = 0.87, colour=\"black\") +\n  labs(x = \"Generación\", y = \"Porcentaje de manifestantes\", fill = \"Género\", caption = \"Figura 3: Porcentaje de manifestantes en cada generación según su género\") +\n  theme_classic() +\n  geom_text(aes(label = porcentaje, y = porcentaje + 1),\n            position = position_dodge(width = 1), vjust = 1.1, size = 3) +\n  theme(plot.caption = element_text(hjust=0,family=\"Times New Roman\",size=15), #Ajustes del caption\n        text = element_text(size = 11),  # Tamaño del texto del gráfico\n        legend.position = \"bottom\",      # Posición de la leyenda\n        legend.title = element_blank(),   # Elimina el título de la leyenda\n        legend.text = element_text(size = 9),  # Tamaño del texto de la leyenda\n        axis.title = element_text(size = 12)) +  # Tamaño del texto de los títulos de los ejes\n  scale_fill_manual(values=c(\"Hombre\"=\"#d8d8d8\", \"Mujer\"=\"#777777\"))\n\n\nggplot(brecha_gen, aes(x = gen, y = porcentaje, fill = genero)) +\n\n## Ajustes del eje y: limites y líneas grises del fondo\n  scale_y_continuous(limits=c(0,30))+\n  geom_hline(yintercept = c(0, 10, 20,30), color = \"lightgrey\", alpha = 0.5) +\n\n## El gráfico de barras\n  geom_bar(stat = \"identity\", position = position_dodge(width = 0.94), width = 0.87, colour=\"black\") +\n\n## Otros ajustes estéticos (iguales que en el gráfico anterior)\n  labs(x = \"Generación\", y = \"Porcentaje de manifestantes\", fill = \"Género\", caption = \"Figura 3: Porcentaje de manifestantes en cada generación según su género\") +\n  theme_classic() +\n  geom_text(aes(label = porcentaje, y = porcentaje + 1),\n            position = position_dodge(width = 1), vjust = 1.1, size = 3) +\n  theme(plot.caption = element_text(hjust=0,family=\"Times New Roman\",size=15), #Ajustes del caption\n        text = element_text(size = 11),  # Tamaño del texto del gráfico\n        legend.position = \"bottom\",      # Posición de la leyenda\n        legend.title = element_blank(),   # Elimina el título de la leyenda\n        legend.text = element_text(size = 9),  # Tamaño del texto de la leyenda\n        axis.title = element_text(size = 12)) +  # Tamaño del texto de los títulos de los ejes\n  scale_fill_manual(values=c(\"Hombre\"=\"#d8d8d8\", \"Mujer\"=\"#777777\"))\n\n\n\n\n\n\n\nGráficoCódigoCódigo anotadoFormato de los datos\n\n\n\n\n\n\n\n\n\nggplot(diferencias_dcha, aes(x = Tema, y = diferencias, fill = Partido)) +\n  geom_hline(yintercept = seq(0,5,by=0.5), color = \"lightgrey\", alpha = 0.3) +\n  geom_bar(stat = \"identity\", position = \"dodge\", alpha=0.8) +\n  theme_classic() +\n  labs(x = NULL,\n       y = \"Diferencia (0-10)\",\n       caption = \"Distancia entre el Vox y PP y los votantes de derechas y centro.\\nLa distancia se ha medido como la resta de la media del partido menos la del grupo ideológico (términos absolutos).\",\n       fill=\"Partido-ideología:\") +\n  geom_text(aes(label = round(diferencias, 2)), position = position_dodge(width = 0.9), vjust = -0.5, size = 3)+\n  theme(legend.position = \"bottom\",\n        legend.text = element_text(size = 9),\n        axis.title = element_text(size = 12))+\n  scale_fill_manual(\n    values = c(\"PP_c\"=\"#85B9ED\",\"PP_d\"=\"#17589d\",\"Vox_c\"=\"#B3E384\",\"Vox_d\"=\"#63ac33\"),\n    labels = c(\"PP_c\" = \"PP (centro)\",\"PP_d\" = \"PP (derecha)\",\"Vox_c\" = \"Vox (centro)\",\"Vox_d\" = \"Vox (derecha)\"))+\n  scale_x_discrete(labels=c(\"Inversión contra\\n Cambio Climático\",  \"Servicios Públicos\\n vs. Impuesto Bajos\", \"Inmigración\", \"Derechos LGTBI\\n (adopción)\", \"Descentralización\\n Territorial\"))\n\n\nggplot(diferencias_dcha, aes(x = Tema, y = diferencias, fill = Partido)) +\n\n## Ajustes del eje y: líneas grises del fondo\n  geom_hline(yintercept = seq(0,5,by=0.5), color = \"lightgrey\", alpha = 0.3) +\n\n## El gráfico de barras\n  geom_bar(stat = \"identity\", position = \"dodge\", alpha=0.8) +\n\n## Otros ajustes estéticos (iguales que en el primer gráfico)\n  theme_classic() +\n  labs(x = NULL,\n       y = \"Diferencia (0-10)\",\n       caption = \"Distancia entre el Vox y PP y los votantes de derechas y centro.\\nLa distancia se ha medido como la resta de la media del partido menos la del grupo ideológico (términos absolutos).\",\n       fill=\"Partido-ideología:\") +\n  geom_text(aes(label = round(diferencias, 2)), position = position_dodge(width = 0.9), vjust = -0.5, size = 3)+\n  theme(legend.position = \"bottom\",\n        legend.text = element_text(size = 9),\n        axis.title = element_text(size = 12))+\n  scale_fill_manual(\n    values = c(\"PP_c\"=\"#85B9ED\",\"PP_d\"=\"#17589d\",\"Vox_c\"=\"#B3E384\",\"Vox_d\"=\"#63ac33\"),\n    labels = c(\"PP_c\" = \"PP (centro)\",\"PP_d\" = \"PP (derecha)\",\"Vox_c\" = \"Vox (centro)\",\"Vox_d\" = \"Vox (derecha)\"))+\n\n## Para cambiar las etiquetas del eje x\n  scale_x_discrete(labels=c(\"Inversión contra\\n Cambio Climático\",  \"Servicios Públicos\\n vs. Impuesto Bajos\", \"Inmigración\", \"Derechos LGTBI\\n (adopción)\", \"Descentralización\\n Territorial\"))",
    "crumbs": [
      "Gráficos de barras"
    ]
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2\n\n\n\n\n\n Back to top"
  },
  {
    "objectID": "g_lineas.html",
    "href": "g_lineas.html",
    "title": "Gráficos de líneas",
    "section": "",
    "text": "GráficoCódigoCódigo anotadoFormato de los datos\n\n\n\n\n\n\n\n\n\nggplot(cis_pop_recu, aes(x=mes, y=Feijoo, color=recuerdo, group=recuerdo)) +\n  geom_hline(yintercept = seq(1, 10, by = 1), color = \"lightgrey\", alpha = 0.5)+\n  geom_line(linewidth=0.9, linetype=1)+\n  geom_point()+\n  theme_classic()+\n  labs(x=\"Mes de la encuesta\",\n       y=\"Valoración media (1 al 10)\",\n       caption = \"Evolución de la valoración de Alberto Nuñez Feijoo según el recuerdo de voto\\nFuente: elaboración propia a partir de los datos del CIS\")+\n  theme(\n        legend.position = \"bottom\",\n        legend.title = element_blank(), \n        legend.text = element_text(size = 9),\n        axis.title = element_text(size = 10))+\n  scale_color_manual(values=colores_cis)+\n    geom_text(aes(label = round(Feijoo, 1)), vjust = -0.5, size = 2.5,show.legend = F)+\n  scale_y_continuous(limits = c(1,10), breaks = seq(0,10, by=2))\n\n\nggplot(cis_pop_recu, aes(x=mes, y=Feijoo, color=recuerdo, group=recuerdo)) +\n\n## Líneas grises de fondo\n  geom_hline(yintercept = seq(1, 10, by = 1), color = \"lightgrey\", alpha = 0.5)+\n  \n## Líneas, puntos y anotaciones\n  geom_line(linewidth=0.9, linetype=1)+\n  geom_point()+\n  geom_text(aes(label = round(Feijoo, 1)), vjust = -0.5, size = 2.5,show.legend = F)+\n  \n## Otros ajustes\n  scale_y_continuous(limits = c(1,10), breaks = seq(0,10, by=2))+ # Personalizar el eje x\n  theme_classic()+ # El tema del fondo (en blanco)\n  labs(x=\"Mes de la encuesta\", # Etiqueta del eje x\n       y=\"Valoración media (1 al 10)\", #La etiqueta del eje y\n       caption = \"Evolución de la valoración de Alberto Nuñez Feijoo según el recuerdo de voto\\nFuente: elaboración propia a partir de los datos del CIS\")+ # El texto del pio\n  theme(\n        legend.position = \"bottom\", # Posición de la leyenda\n        legend.title = element_blank(), # Leyenda sin título\n        legend.text = element_text(size = 9), # Tamaño de la leyenda\n        axis.title = element_text(size = 10))+\n  scale_color_manual(values=colores_cis) # Colores personalizados para cada partido (se establece antes la equivalencia en un vector)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nGráficoCódigoCódigo anotadoFormato de los datos\n\n\n\n\n\n\n\n\n\nggplot(data = gasto_desempleo, aes(x = TIME, y = Value, color = Country, group = Country)) +\n  geom_line() +\n  geom_point() +\n  labs(\n    x = \"Año\",\n    y = \"% PIB\",\n    color = \"Países\",\n    caption = \"Fuente: elaboración propia a partir de datos de Eurostat\") +\n  ggtitle(\"Gasto gubernamental en prestaciones por desempleo\") +\n  theme(plot.title = element_text(hjust = 0.5))+\n  scale_color_manual(values = c(Spain = \"blue\", Italy = \"red\", Netherlands = \"green\", Austria = \"purple\")) +\n  theme_minimal() +\n  scale_x_continuous(\n    limits = c(2000, 2019),\n    breaks = c(2000, 2004, 2008, 2012, 2016, 2019),\n    labels = scales::number_format(accuracy = 1)) +\n  geom_vline(xintercept = 2008, linetype = \"dashed\", color = \"black\")\n\n\nggplot(data = gasto_desempleo, aes(x = TIME, y = Value, color = Country, group = Country)) +\n\n## Líneas + puntos\n  geom_line() +\n  geom_point() +\n  \n## Etiquetas\n  labs(\n    x = \"Año\",\n    y = \"% PIB\",\n    color = \"Países\",\n    caption = \"Fuente: elaboración propia a partir de datos de Eurostat\") +\n  ggtitle(\"Gasto gubernamental en prestaciones por desempleo\")+\n  theme(plot.title = element_text(hjust = 0.5))+ # Para centrar el título del gráfico\n  \n## Colores personalizados para las líneas\n  scale_color_manual(values = c(Spain = \"blue\", Italy = \"red\", Netherlands = \"green\", Austria = \"purple\")) +\n  \n## Tema del gráfico\n  theme_minimal() +\n## Ajuste de las cifras mostradas en el eje x\n  scale_x_continuous(\n    limits = c(2000, 2019),\n    breaks = c(2000, 2004, 2008, 2012, 2016, 2019),\n    labels = scales::number_format(accuracy = 1)) +\n    \n## Añadir línea de puntos vertical para el año 2008\n  geom_vline(xintercept = 2008, linetype = \"dashed\", color = \"black\")",
    "crumbs": [
      "Gráficos de líneas"
    ]
  },
  {
    "objectID": "g_lineas.html#evolución-temporal",
    "href": "g_lineas.html#evolución-temporal",
    "title": "Gráficos de líneas",
    "section": "",
    "text": "GráficoCódigoCódigo anotadoFormato de los datos\n\n\n\n\n\n\n\n\n\nggplot(cis_pop_recu, aes(x=mes, y=Feijoo, color=recuerdo, group=recuerdo)) +\n  geom_hline(yintercept = seq(1, 10, by = 1), color = \"lightgrey\", alpha = 0.5)+\n  geom_line(linewidth=0.9, linetype=1)+\n  geom_point()+\n  theme_classic()+\n  labs(x=\"Mes de la encuesta\",\n       y=\"Valoración media (1 al 10)\",\n       caption = \"Evolución de la valoración de Alberto Nuñez Feijoo según el recuerdo de voto\\nFuente: elaboración propia a partir de los datos del CIS\")+\n  theme(\n        legend.position = \"bottom\",\n        legend.title = element_blank(), \n        legend.text = element_text(size = 9),\n        axis.title = element_text(size = 10))+\n  scale_color_manual(values=colores_cis)+\n    geom_text(aes(label = round(Feijoo, 1)), vjust = -0.5, size = 2.5,show.legend = F)+\n  scale_y_continuous(limits = c(1,10), breaks = seq(0,10, by=2))\n\n\nggplot(cis_pop_recu, aes(x=mes, y=Feijoo, color=recuerdo, group=recuerdo)) +\n\n## Líneas grises de fondo\n  geom_hline(yintercept = seq(1, 10, by = 1), color = \"lightgrey\", alpha = 0.5)+\n  \n## Líneas, puntos y anotaciones\n  geom_line(linewidth=0.9, linetype=1)+\n  geom_point()+\n  geom_text(aes(label = round(Feijoo, 1)), vjust = -0.5, size = 2.5,show.legend = F)+\n  \n## Otros ajustes\n  scale_y_continuous(limits = c(1,10), breaks = seq(0,10, by=2))+ # Personalizar el eje x\n  theme_classic()+ # El tema del fondo (en blanco)\n  labs(x=\"Mes de la encuesta\", # Etiqueta del eje x\n       y=\"Valoración media (1 al 10)\", #La etiqueta del eje y\n       caption = \"Evolución de la valoración de Alberto Nuñez Feijoo según el recuerdo de voto\\nFuente: elaboración propia a partir de los datos del CIS\")+ # El texto del pio\n  theme(\n        legend.position = \"bottom\", # Posición de la leyenda\n        legend.title = element_blank(), # Leyenda sin título\n        legend.text = element_text(size = 9), # Tamaño de la leyenda\n        axis.title = element_text(size = 10))+\n  scale_color_manual(values=colores_cis) # Colores personalizados para cada partido (se establece antes la equivalencia en un vector)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nGráficoCódigoCódigo anotadoFormato de los datos\n\n\n\n\n\n\n\n\n\nggplot(data = gasto_desempleo, aes(x = TIME, y = Value, color = Country, group = Country)) +\n  geom_line() +\n  geom_point() +\n  labs(\n    x = \"Año\",\n    y = \"% PIB\",\n    color = \"Países\",\n    caption = \"Fuente: elaboración propia a partir de datos de Eurostat\") +\n  ggtitle(\"Gasto gubernamental en prestaciones por desempleo\") +\n  theme(plot.title = element_text(hjust = 0.5))+\n  scale_color_manual(values = c(Spain = \"blue\", Italy = \"red\", Netherlands = \"green\", Austria = \"purple\")) +\n  theme_minimal() +\n  scale_x_continuous(\n    limits = c(2000, 2019),\n    breaks = c(2000, 2004, 2008, 2012, 2016, 2019),\n    labels = scales::number_format(accuracy = 1)) +\n  geom_vline(xintercept = 2008, linetype = \"dashed\", color = \"black\")\n\n\nggplot(data = gasto_desempleo, aes(x = TIME, y = Value, color = Country, group = Country)) +\n\n## Líneas + puntos\n  geom_line() +\n  geom_point() +\n  \n## Etiquetas\n  labs(\n    x = \"Año\",\n    y = \"% PIB\",\n    color = \"Países\",\n    caption = \"Fuente: elaboración propia a partir de datos de Eurostat\") +\n  ggtitle(\"Gasto gubernamental en prestaciones por desempleo\")+\n  theme(plot.title = element_text(hjust = 0.5))+ # Para centrar el título del gráfico\n  \n## Colores personalizados para las líneas\n  scale_color_manual(values = c(Spain = \"blue\", Italy = \"red\", Netherlands = \"green\", Austria = \"purple\")) +\n  \n## Tema del gráfico\n  theme_minimal() +\n## Ajuste de las cifras mostradas en el eje x\n  scale_x_continuous(\n    limits = c(2000, 2019),\n    breaks = c(2000, 2004, 2008, 2012, 2016, 2019),\n    labels = scales::number_format(accuracy = 1)) +\n    \n## Añadir línea de puntos vertical para el año 2008\n  geom_vline(xintercept = 2008, linetype = \"dashed\", color = \"black\")",
    "crumbs": [
      "Gráficos de líneas"
    ]
  },
  {
    "objectID": "g_lineas.html#líneas-rellenas",
    "href": "g_lineas.html#líneas-rellenas",
    "title": "Gráficos de líneas",
    "section": "Líneas rellenas",
    "text": "Líneas rellenas\n\nGráficoCódigoCódigo anotadoFormato de los datos\n\n\n\n\n\n\n\n\n\nlibrary(ggh4x)\n\ng&lt;-ggplot(data = brecha_edad, aes(x=edad)) + #y=porcentaje, color=genero, group=genero\n  scale_x_continuous(limits=c(15,90),breaks=c(10,20,30,40,50,60,70,80,90))+\n  scale_y_continuous(limits=c(0,40),breaks=c(0,10,20,30,40))+\n  geom_hline(yintercept = c(0, 10, 20,30,40), color = \"lightgrey\", alpha = 0.5)+\n  geom_vline(xintercept=c(35,65), color=\"black\", linetype=\"dashed\")+\n  theme_classic()+\n  labs(x=\"Edad\",y=\"Porcentaje de manifestantes\",caption = \"Figura 2: Porcentaje de manifestantes para cada edad según su género\" )+\n  theme(plot.caption = element_text(hjust=0,family=\"Times New Roman\",size=15), #Ajustes del caption\n        text = element_text(size = 11),\n        legend.position = \"bottom\",\n        legend.title = element_blank(), \n        legend.text = element_text(size = 10),\n        axis.title = element_text(size = 12)) +\n  geom_line(aes(y=Mujer),color=\"#51DA2C\",size=1.15)+\n  geom_line(aes(y=Hombre),color=\"#130081\",size=1.15)+\n  stat_difference(aes(ymin = Hombre, ymax = Mujer), alpha = 0.5,) +\n  scale_fill_manual(values = c(\"#51DA2C\", \"#130081\"), labels=c(\"Mujer\",\"Hombre\"))\ng+annotate(\"text\",x=c(23,50,80), y=c(39,39,39),label=c(\"Jóvenes\", \"Adultos\", \"Ancianos\"),size=3.6)\n\n\nlibrary(ggh4x)\n\ng&lt;-ggplot(data = brecha_edad, aes(x=edad)) +\n\n## Personalizar los ejes\n  scale_x_continuous(limits=c(15,90),breaks=c(10,20,30,40,50,60,70,80,90))+\n  scale_y_continuous(limits=c(0,40),breaks=c(0,10,20,30,40))+\n  geom_hline(yintercept = c(0, 10, 20,30,40), color = \"lightgrey\", alpha = 0.5)+\n  geom_vline(xintercept=c(35,65), color=\"black\", linetype=\"dashed\")+\n  \n## Ajustes estéticos del gráfico\n  theme_classic()+\n  labs(x=\"Edad\",y=\"Porcentaje de manifestantes\",caption = \"Figura 2: Porcentaje de manifestantes para cada edad según su género\" )+\n  theme(plot.caption = element_text(hjust=0,family=\"Times New Roman\",size=15), \n        text = element_text(size = 11),\n        legend.position = \"bottom\",\n        legend.title = element_blank(), \n        legend.text = element_text(size = 10),\n        axis.title = element_text(size = 12)) +\n        \n## Lineas y relleno\n  geom_line(aes(y=Mujer),color=\"#51DA2C\",size=1.15)+ # Línea para las mujeres\n  geom_line(aes(y=Hombre),color=\"#130081\",size=1.15)+ # Línea para los hombres\n  stat_difference(aes(ymin = Hombre, ymax = Mujer), alpha = 0.5,) + # El relleno entre las líneas\n  scale_fill_manual(values = c(\"#51DA2C\", \"#130081\"), labels=c(\"Mujer\",\"Hombre\")) # Personalizar el relleno \n\n## Añadir las etiquetas de la edad\ng+annotate(\"text\",x=c(23,50,80), y=c(39,39,39),label=c(\"Jóvenes\", \"Adultos\", \"Ancianos\"),size=3.6)\n\n\nEl mismo que en los casos anteriores (tres columnas, datos alargados)",
    "crumbs": [
      "Gráficos de líneas"
    ]
  },
  {
    "objectID": "g_otros.html",
    "href": "g_otros.html",
    "title": "Otros gráficos",
    "section": "",
    "text": "GráficoCódigoCódigo anotadoFormato de los datos\n\n\n\n\n\n\n\n\n\nggplot(ideol_psoe_j, aes(x = ideol)) +\n  facet_wrap(~ mes, ncol = 1, strip.position = \"top\", labeller = label_value) +\n  geom_bar(aes(y = porcentaje), stat = \"identity\", fill = \"red\", alpha = 0.1) +\n  geom_point(data = pref_j, aes(x = ideol, y = Freq / max(Freq) * max(ideol_psoe$porcentaje), group = Var1, color = Var1), size = 3, alpha = 0.7) +\n  geom_text_repel(data = pref_j, \n                  aes(x = ideol, y = Freq / max(Freq) * max(ideol_psoe$porcentaje), \n                      label = round(Freq, 0)), \n                  size = 2.7, show.legend = FALSE) +\n  theme_classic() +\n  labs(\n    x = \"Posición ideológica (1-10)\",\n    caption = \"Evolución de preferencias por cada candidato para los votantes del PSOE según su ideología\\n Los valores 7 a 10 de las escala se han omitido debido a la baja frecuencia de votantes socialistas\",\n    color = \"Preferencia por:\") +\n  theme(\n    legend.position = \"bottom\",\n    legend.title = element_text(size = 10),\n    legend.text = element_text(size = 9),\n    axis.title = element_text(size = 14),\n    strip.background = element_blank()) +\n  scale_y_continuous(\n    name = \"Porcentaje de votantes\", # Eje izquierdo\n    sec.axis = sec_axis(~ . * max(pref_j$Freq) / max(ideol_psoe$porcentaje), name = \"Preferencia de candidatos\")) +\n  scale_color_manual(\n    values = c(\"Sánchez\" = \"red\", \"Casado/Feijoo\" = \"blue\", \"Indiferente\" = \"grey\")) +\n  scale_x_continuous(breaks = seq(1, 6, by = 1))\n\n\nggplot(ideol_psoe_j, aes(x = ideol)) +\n\n## Juntar los tres graficos\n  facet_wrap(~ mes, ncol = 1, strip.position = \"top\", labeller = label_value) +\n  \n## Barras (eje primario)\n  geom_bar(aes(y = porcentaje), stat = \"identity\", fill = \"red\", alpha = 0.1) +\n  \n## Puntos (eje secundario)\n  geom_point(data = pref_j, aes(x = ideol, y = Freq / max(Freq) * max(ideol_psoe$porcentaje), group = Var1, color = Var1), size = 3, alpha = 0.7) +\n  \n## Etiquetas en los puntos que evitan la superposición\n  geom_text_repel(data = pref_j, \n                  aes(x = ideol, y = Freq / max(Freq) * max(ideol_psoe$porcentaje), \n                      label = round(Freq, 0)), \n                  size = 2.7, show.legend = FALSE) +\n  \n## Tema y etiquetas\n  theme_classic() +\n  labs(\n    x = \"Posición ideológica (1-10)\",\n    caption = \"Evolución de preferencias por cada candidato para los votantes del PSOE según su ideología\\n Los valores 7 a 10 de las escala se han omitido debido a la baja frecuencia de votantes socialistas\",\n    color = \"Preferencia por:\") +\n  theme(\n    legend.position = \"bottom\",\n    legend.title = element_text(size = 10),\n    legend.text = element_text(size = 9),\n    axis.title = element_text(size = 14),\n    strip.background = element_blank()) +\n  \n## Ejes con escalas independientes\n  scale_y_continuous(\n    name = \"Porcentaje de votantes\", # Eje izquierdo\n    sec.axis = sec_axis(~ . * max(pref_j$Freq) / max(ideol_psoe$porcentaje), name = \"Preferencia de candidatos\")) + # Eje derecho\n\n## Colores personalizado\n  scale_color_manual(\n    values = c(\"Sánchez\" = \"red\", \"Casado/Feijoo\" = \"blue\", \"Indiferente\" = \"grey\")) +\n\n## Establecer valores del eje x\n  scale_x_continuous(breaks = seq(1, 6, by = 1))\n\n\n\n\n\n\n\n\n\n\n\nideol_psoe_j\n\n\n\n\n\n\n\npref_j",
    "crumbs": [
      "Otros gráficos"
    ]
  },
  {
    "objectID": "g_otros.html#puntos-barras",
    "href": "g_otros.html#puntos-barras",
    "title": "Otros gráficos",
    "section": "",
    "text": "GráficoCódigoCódigo anotadoFormato de los datos\n\n\n\n\n\n\n\n\n\nggplot(ideol_psoe_j, aes(x = ideol)) +\n  facet_wrap(~ mes, ncol = 1, strip.position = \"top\", labeller = label_value) +\n  geom_bar(aes(y = porcentaje), stat = \"identity\", fill = \"red\", alpha = 0.1) +\n  geom_point(data = pref_j, aes(x = ideol, y = Freq / max(Freq) * max(ideol_psoe$porcentaje), group = Var1, color = Var1), size = 3, alpha = 0.7) +\n  geom_text_repel(data = pref_j, \n                  aes(x = ideol, y = Freq / max(Freq) * max(ideol_psoe$porcentaje), \n                      label = round(Freq, 0)), \n                  size = 2.7, show.legend = FALSE) +\n  theme_classic() +\n  labs(\n    x = \"Posición ideológica (1-10)\",\n    caption = \"Evolución de preferencias por cada candidato para los votantes del PSOE según su ideología\\n Los valores 7 a 10 de las escala se han omitido debido a la baja frecuencia de votantes socialistas\",\n    color = \"Preferencia por:\") +\n  theme(\n    legend.position = \"bottom\",\n    legend.title = element_text(size = 10),\n    legend.text = element_text(size = 9),\n    axis.title = element_text(size = 14),\n    strip.background = element_blank()) +\n  scale_y_continuous(\n    name = \"Porcentaje de votantes\", # Eje izquierdo\n    sec.axis = sec_axis(~ . * max(pref_j$Freq) / max(ideol_psoe$porcentaje), name = \"Preferencia de candidatos\")) +\n  scale_color_manual(\n    values = c(\"Sánchez\" = \"red\", \"Casado/Feijoo\" = \"blue\", \"Indiferente\" = \"grey\")) +\n  scale_x_continuous(breaks = seq(1, 6, by = 1))\n\n\nggplot(ideol_psoe_j, aes(x = ideol)) +\n\n## Juntar los tres graficos\n  facet_wrap(~ mes, ncol = 1, strip.position = \"top\", labeller = label_value) +\n  \n## Barras (eje primario)\n  geom_bar(aes(y = porcentaje), stat = \"identity\", fill = \"red\", alpha = 0.1) +\n  \n## Puntos (eje secundario)\n  geom_point(data = pref_j, aes(x = ideol, y = Freq / max(Freq) * max(ideol_psoe$porcentaje), group = Var1, color = Var1), size = 3, alpha = 0.7) +\n  \n## Etiquetas en los puntos que evitan la superposición\n  geom_text_repel(data = pref_j, \n                  aes(x = ideol, y = Freq / max(Freq) * max(ideol_psoe$porcentaje), \n                      label = round(Freq, 0)), \n                  size = 2.7, show.legend = FALSE) +\n  \n## Tema y etiquetas\n  theme_classic() +\n  labs(\n    x = \"Posición ideológica (1-10)\",\n    caption = \"Evolución de preferencias por cada candidato para los votantes del PSOE según su ideología\\n Los valores 7 a 10 de las escala se han omitido debido a la baja frecuencia de votantes socialistas\",\n    color = \"Preferencia por:\") +\n  theme(\n    legend.position = \"bottom\",\n    legend.title = element_text(size = 10),\n    legend.text = element_text(size = 9),\n    axis.title = element_text(size = 14),\n    strip.background = element_blank()) +\n  \n## Ejes con escalas independientes\n  scale_y_continuous(\n    name = \"Porcentaje de votantes\", # Eje izquierdo\n    sec.axis = sec_axis(~ . * max(pref_j$Freq) / max(ideol_psoe$porcentaje), name = \"Preferencia de candidatos\")) + # Eje derecho\n\n## Colores personalizado\n  scale_color_manual(\n    values = c(\"Sánchez\" = \"red\", \"Casado/Feijoo\" = \"blue\", \"Indiferente\" = \"grey\")) +\n\n## Establecer valores del eje x\n  scale_x_continuous(breaks = seq(1, 6, by = 1))\n\n\n\n\n\n\n\n\n\n\n\nideol_psoe_j\n\n\n\n\n\n\n\npref_j",
    "crumbs": [
      "Otros gráficos"
    ]
  },
  {
    "objectID": "g_otros.html#líneas-barras",
    "href": "g_otros.html#líneas-barras",
    "title": "Otros gráficos",
    "section": "Líneas + barras",
    "text": "Líneas + barras\n\nGráficoCódigoCódigo anotadoFormato de los datos\n\n\n\n\n\n\n\n\n\nggplot(ideol_psoe, aes(x = ideol)) +\n  geom_bar(aes(y = porcentaje), stat = \"identity\", fill=\"red\", alpha = 0.1)+\n  geom_line(data = pref, aes(x = ideol, y = Freq / max(Freq) * max(ideol_psoe$porcentaje), group = Var1, color=Var1), size = 0.8)+\n  geom_point(data = pref, aes(x = ideol, y = Freq / max(Freq) * max(ideol_psoe$porcentaje), group = Var1, color=Var1))+\n    geom_text(data=pref, aes(x = ideol, y = Freq / max(Freq) * max(ideol_psoe$porcentaje),label = round(Freq, 0)), vjust = -0.7, hjust = 0.3, size = 2.7,show.legend = F)+  \n  theme_classic() +\n  labs(\n    x = \"Posición ideológica (1-10)\",\n    caption = \"Evolución de las preferencias por los candidatos para los votantes del PSOE según su ideología\"\n  ) +\n  theme(\n    legend.position = \"bottom\",\n    legend.title = element_blank(),\n    legend.text = element_text(size = 9),\n    axis.title = element_text(size = 10)\n  ) +\n  scale_y_continuous(\n    name = \"Porcentaje de votantes\", # Eje izquierdo\n    sec.axis = sec_axis(~ . * max(pref$Freq) / max(ideol_psoe$porcentaje), name = \"Preferencia de candidatos\") # Eje derecho\n  )+\n  scale_color_manual(values=c(\"Sánchez\"=\"red\",\"Casado\"=\"blue\",\"Indiferente\"=\"grey\"))+\n  scale_x_continuous(breaks = seq(1,10,by=2))\n\n\nggplot(ideol_psoe, aes(x = ideol)) +\n\n## Barras (eje primario)\n  geom_bar(aes(y = porcentaje), \n           stat = \"identity\", # Hay que añadirlo porque los datos ya están en formato un % por cada valor del eje x\n           fill=\"red\", # Color de las barras\n           alpha = 0.1)+ # Nivel de transparencia de las barras\n\n## Línea (eje secundario)\n  geom_line(data = pref, aes(x = ideol, # Datos nuevos para las líneas\n                             y = Freq / max(Freq) * max(ideol_psoe$porcentaje), # Es neesaria esta transformación para que haya dos ejes independientes\n                             group = Var1, color=Var1), # Variables de agrupación para que haya varias líneas\n            size = 0.8)+ # El tamaño de las líneas\n\n## Puntos de las líneas\n  geom_point(data = pref, aes(x = ideol, y = Freq / max(Freq) * max(ideol_psoe$porcentaje), group = Var1, color=Var1))+\n\n## Texto de los % sobre cada punto de las líneas\n    geom_text(data=pref, aes(x = ideol, y = Freq / max(Freq) * max(ideol_psoe$porcentaje),label = round(Freq, 0)), vjust = -0.7, hjust = 0.3, size = 2.7,show.legend = F)+\n\n## Tema y etiquetas\n  theme_classic() + # Tema con el fondo en blanco\n  labs(\n    x = \"Posición ideológica (1-10)\", # Etiqueta del eje x\n    caption = \"Evolución de las preferencias por los candidatos para los votantes del PSOE según su ideología\" \n    # El caption es el texto en el pie del gráfico\n  ) +\n  theme(\n    legend.position = \"bottom\", # Posición de la leyenda (abajo en lugar de en el lado)\n    legend.title = element_blank(), # Para eliminar el título del gráfico\n    legend.text = element_text(size = 9), # Tamaño de la leyenda\n    axis.title = element_text(size = 10) # Tamaño de los títulos de los ejes\n  ) +\n\n## Dos ejes con escalas independientes\n  scale_y_continuous(\n    name = \"Porcentaje de votantes\", # Eje izquierdo\n    sec.axis = sec_axis(~ . * max(pref$Freq) / max(ideol_psoe$porcentaje), name = \"Preferencia de candidatos\"))+ # Eje derecho\n  scale_color_manual(values=c(\"Sánchez\"=\"red\",\"Casado\"=\"blue\",\"Indiferente\"=\"grey\"))+ # Cambiar el color de las líneas\n\n## Personalizar el eje x\n  scale_x_continuous(breaks = seq(1,10,by=2))\n\n\n\n\n\n\n\n\n\n\n\nideol_psoe\n\n\n\n\n\n\n\npref",
    "crumbs": [
      "Otros gráficos"
    ]
  },
  {
    "objectID": "g_otros.html#gráficos-de-cajas-y-violines",
    "href": "g_otros.html#gráficos-de-cajas-y-violines",
    "title": "Otros gráficos",
    "section": "Gráficos de cajas y violines",
    "text": "Gráficos de cajas y violines\n\nGráfico de cajas\n\nGráficoCódigoCódigo anotado\n\n\n\n\n\n\n\n\n\nggplot(data = desempleo_juvenil, aes(x = Country, y = Value, fill=Country)) +\n  geom_boxplot(color=\"black\",\n               alpha=0.3) +\n  geom_jitter(color=\"black\", size=0.4, alpha=0.3)+\n  ggtitle(\"Diagrama de cajas y evolución temporal del paro juvenil\")+\n  theme_classic()+\n  labs(\n    x = \"País\",\n    y = \"Desempleo juvenil (%)\") +\n  stat_boxplot(geom = \"errorbar\",\n               width = 0.25) +\n  theme(legend.position = \"none\",\n        plot.title = element_text(hjust = 0.5, size = 11))+\n  scale_x_discrete(labels = c(Spain = \"España\", Italy = \"Italia\", Netherlands = \"Paises Bajos\")) +\n  scale_fill_manual(\n    values = c(Spain = \"blue\", Italy = \"red\", Austria = \"purple\", Netherlands = \"green\"))\n\n\nggplot(data = desempleo_juvenil, aes(x = Country, y = Value, fill=Country)) +\n\n## Comando del gráfico de cajas\n    geom_boxplot(color=\"black\", # Bordes de color negro\n               alpha=0.3) + # Transparencia del relleno\n\n## Añadir los puntos de distribución\n    geom_jitter(color=\"black\", size=0.4, alpha=0.3)+\n\n## Personalización del gráfico\n  ggtitle(\"Diagrama de cajas y evolución temporal del paro juvenil\")+ # Añadirle un título\n  theme_classic()+ #Tema con el fondo blanco\n  labs( # Etiquetas de los ejes\n    x = \"País\",\n    y = \"Desempleo juvenil (%)\") +\n  stat_boxplot(geom = \"errorbar\",width = 0.25)+ # Añade las líneas horizontales que indican los datos extremos (si no lo pones solo aparecen las verticales)\n  theme(legend.position = \"none\", # Elimina la leyenda\n        plot.title = element_text(hjust = 0.5, size = 11))+ # Ajustes del título\n  scale_x_discrete(labels = c(Spain = \"España\", Italy = \"Italia\", Netherlands = \"Paises Bajos\")) + # Cambiar el nombre de las etiquetas del eje x\n  scale_fill_manual(values = c(Spain = \"blue\", Italy = \"red\", Austria = \"purple\", Netherlands = \"green\")) # Cambiar los colores\n\n\n\n\n\nGráfico de violines\n\nGráficoCódigoCódigo anotado\n\n\n\n\n\n\n\n\n\nggplot(datos,aes(x=intención, y=ideol, fill=intención))+\n  theme_classic()+\n  scale_y_continuous(limits = c(0, 10), breaks = seq(0, 10, by = 2))+\n  geom_hline(yintercept = c(0,2,4,6,8,10), color = \"lightgrey\", alpha = 0.5)+\n  geom_violin(width=1, alpha=0.5, adjust = 1.6)+ #width es para hacer más ancho cada violin, y adjust para lo suaves que son las curvas\n  geom_boxplot(width=0.1, color=\"grey\", alpha=0.4) +\n  scale_fill_manual(values = c(PP = \"#458CFF\", PSOE = \"red\", Podemos = \"purple\", Vox = \"green\", Sumar=\"pink\",SALF=\"darkgrey\"))+\n  theme(plot.title = element_text(hjust = 0.5),\n        legend.position=\"none\")+\n  labs(title=\"Media ideología de los votantes de cada partido\",\n       x=\"Votantes de cada partido\\n(intención)\", \n       y=\"Ideología\\n(0-10)\",\n       caption=\"Fuente: elaboración propia. Datos de 40dB\")\n\n\nggplot(datos,aes(x=intención, y=ideol, fill=intención))+\n\n## Líneas horizontales de fondo\n  scale_y_continuous(limits = c(0, 10), breaks = seq(0, 10, by = 2))+ # Los límites del eje y\n  geom_hline(yintercept = c(0,2,4,6,8,10), color = \"lightgrey\", alpha = 0.5)+ # Las líneas grises de fondo\n\n## Gráfico de violines\n  geom_violin(width=1, alpha=0.5, adjust = 1.6)+ #width es para hacer más ancho cada violin, y adjust para lo suaves que son las curvas\n\n## Gráfico de cajas dentro de los violines\n  geom_boxplot(width=0.1, color=\"grey\", alpha=0.4) +\n\n## Personalización del gráfico\n  scale_fill_manual(values = c(PP = \"#458CFF\", PSOE = \"red\", Podemos = \"purple\", Vox = \"green\", Sumar=\"pink\",SALF=\"darkgrey\"))+ # Cambiar los colores\n  theme_classic()+ # El tema del fondo\n  theme(plot.title = element_text(hjust = 0.5), # Centrar el título\n        legend.position=\"none\")+ # Eliminar la leyenda\n  labs(title=\"Media ideología de los votantes de cada partido\",\n       x=\"Votantes de cada partido\\n(intención)\", \n       y=\"Ideología\\n(0-10)\", \n       caption=\"Fuente: elaboración propia. Datos de 40dB\")",
    "crumbs": [
      "Otros gráficos"
    ]
  }
]