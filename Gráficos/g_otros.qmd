---
title: "Otros gráficos"
---

## Gráficos de cajas y violines

### Gráfico de cajas

::: panel-tabset
#### Gráfico

![](images/clipboard-289949504.png){fig-align="center" width="500"}

#### Código

``` r
ggplot(data = desempleo_juvenil, aes(x = Country, y = Value, fill=Country)) +
  geom_boxplot(color="black",
               alpha=0.3) +
  ggtitle("Diagrama de cajas y evolución temporal del paro juvenil")+
  theme_classic()+
  geom_jitter(color="black", size=0.4, alpha=0.3)+
  labs(
    x = "País",
    y = "Desempleo juvenil (%)") +
  stat_boxplot(geom = "errorbar",
               width = 0.25) +
  theme(legend.position = "none",
        plot.title = element_text(hjust = 0.5, size = 11))+
  scale_x_discrete(labels = c(Spain = "España", Italy = "Italia", Netherlands = "Paises Bajos")) +
  scale_fill_manual(
    values = c(Spain = "blue", Italy = "red", Austria = "purple", Netherlands = "green"))
```

#### Código anotado

``` r
geom_boxplot  comando gráfico cajas
color="black",  para remarcar de negro el contorno de las cajas
alpha=0.3 para cambiar la transparencia del relleno de las cajas (cuanto más bajo el número, más 
                       transparente el color)
ggtitle  añade el título del gráfico
theme_classic  establecer el formato del gráfico (estético)
geom_jitter(color="black", size=0.4, alpha=0.3)  añade un punto para cada dato
labs  añadir etiquetas de los ejes
stat_boxplot(geom = "errorbar", width = 0.25)  añade las líneas horizontales que indican los datos extremos (si no lo pones solo aparecen las verticales)
theme(legend position = “none”,  elimina la leyenda
plot.title = element_text(hjust = 0.5))  ajusta el título del gráfico al centro
scale_x_discrete  cambia el nombre de las etiquetas que se muestran en el eje x
scale_fill_manual  cambia el color de relleno de las cajas
```
:::

### Gráfico de violines

::: panel-tabset
#### Gráfico

![](images/clipboard-2387205880.png){fig-align="center" width="500"}

#### Código

``` r
ggplot(datos,aes(x=intención, y=ideol, fill=intención))+
  theme_classic()+
  scale_y_continuous(limits = c(0, 10), breaks = seq(0, 10, by = 2))+
  geom_hline(yintercept = c(0,2,4,6,8,10), color = "lightgrey", alpha = 0.5)+
  geom_violin(width=1, alpha=0.5, adjust = 1.6)+ #width es para hacer más ancho cada violin, y adjust para lo suaves que son las curvas
  geom_boxplot(width=0.1, color="grey", alpha=0.4) +
  scale_fill_manual(values = c(PP = "#458CFF", PSOE = "red", Podemos = "purple", Vox = "green", Sumar="pink",SALF="darkgrey"))+
  theme(plot.title = element_text(hjust = 0.5),legend.position="none")+
  labs(title="Media ideología de los votantes de cada partido",x="Votantes de cada partido\n(intención)", y="Ideología\n(0-10)", caption="Fuente: elaboración propia. Datos de 40dB")
```

#### Código anotado

``` r
ggplot(datos,aes(x=intención, y=ideol, fill=intención))+
  theme_classic()+
  scale_y_continuous(limits = c(0, 10), breaks = seq(0, 10, by = 2))+
  geom_hline(yintercept = c(0,2,4,6,8,10), color = "lightgrey", alpha = 0.5)+
  geom_violin(width=1, alpha=0.5, adjust = 1.6)+ #width es para hacer más ancho cada violin, y adjust para lo suaves que son las curvas
  geom_boxplot(width=0.1, color="grey", alpha=0.4) +
  scale_fill_manual(values = c(PP = "#458CFF", PSOE = "red", Podemos = "purple", Vox = "green", Sumar="pink",SALF="darkgrey"))+
  theme(plot.title = element_text(hjust = 0.5),legend.position="none")+
  labs(title="Media ideología de los votantes de cada partido",x="Votantes de cada partido\n(intención)", y="Ideología\n(0-10)", caption="Fuente: elaboración propia. Datos de 40dB")
```
:::
